#+title: Attach proxy to HTTP client
#+hugo_base_dir: ~/JimboyLabs/resources/braindump
#+hugo_section: ./notes

- related :: [[file:20201205165502-golang.org][Golang]]
- link :: [[https://stackoverflow.com/questions/14661511/setting-up-proxy-for-http-client][Setting up proxy for HTTP client]]

Construct a http client with a proxy

#+begin_src go
proxyURL, _ := url.Parse("http://proxyIp:proxyPort")

myClient := &http.Client{Transport: &http.Transport{Proxy: http.ProxyURL(proxyURL)}}
#+end_src

We could also modify the default transport used by the ~net/http~ package. This would affect the entire program.

#+begin_src go
proxyURL, _ := url.Parse("http://proxyIp:proxyPort")

http.DefaultTransport := &http.Transport{Proxy: http.ProxyURL(proxyURL)}
#+end_src
